# 树

## 树的基本概念

### 树的定义

1. **树的结构**：树是一个由**结点**（Nodes）组成的有限集合。这个集合要么是空的（即没有任何结点），要么是由**一个根结点**（Root Node）和**若干个互不相交的子树**（Subtrees）组成的。这些子树本身也都是树。

2. **递归定义**：树可以递归地定义为一个根结点和一些子树，每个子树也是一个树。除了根结点外，树中的每个结点有一个父结点（Parent Node）。一个树如果有 \(n\) 个结点，那么它就有 \(n-1\) 条边（Edges），因为每个结点（除了根结点）都通过一条边与其父结点相连。

### 树的基本术语

1. **结点的度（Degree of a Node）**：子结点（Child Nodes）数量。例如，没有子结点的结点度为0。

2. **树的度（Degree of a Tree）**：树中所有结点的度的最大值。

3. **叶结点（Leaf Node）**：度为0的结点，即没有子结点的结点。

4. **中间结点（Internal Node）**：度不为0的结点，即有子结点的结点。

5. **兄弟结点（Sibling Nodes）**：具有相同父结点的结点。

6. **结点的层次（Level of a Node）**：根结点在第1层，其子结点在第2层，以此类推。

7. **结点的高度（Height of a Node）**：叶结点的高度是1，中间结点的高度是它所有子结点的高度的最大值加1。（在树结构中，每个结点的高度是基于它的子结点来确定的。）

8. **树的高度（Height of a Tree）**：根结点的高度。

9. **有序树与无序树**：如果树中结点的子树有固定的顺序，且不能交换次序，则称为有序树；否则为无序树。

10. **森林（Forest）**：零个或多个互不相交的树的集合。

11. **祖先结点和子孙结点**：如果从一个结点向根结点方向遍历，遇到的所有结点都是这个结点的祖先结点。相反，一个结点的所有下属结点都是它的子孙结点。

- ***非根结点有且仅有一个父结点***：这是因为每个结点（除了根结点）在树中都是通过一条唯一的边与其父结点相连，而这种结构确保了从任何一个非根结点到根结点的路径是唯一的。

### 树的基本操作

- **InitTree(tree)**: 初始化一个空树 `tree`。
- **CreateTree(tree, definition)**: 按照 `definition` 构造一个树。
- **IsEmpty(tree)**: 检查树 `tree` 是否为空。若为空，返回 `true`；否则，返回 `false`。
- **Root(tree)**: 返回树 `tree` 的根节点。
- **Get(tree, node)**: 返回树 `tree` 中节点 `node` 的值。
- **Parent(tree, node)**: 返回树 `tree` 中节点 `node` 的父节点。
- **GetChild(tree, node, k)**: 返回树 `tree` 中节点 `node` 的第 `k` 个子树。
- **InsertChild(tree, node, k, subtree)**: 将树 `subtree` 插入到树 `tree` 中，使其成为节点 `node` 的第 `k` 个子树。
- **Search(tree, x)**: 在树 `tree` 中查找值为 `x` 的节点。如果查找成功，返回节点；否则返回 `NIL`。
- **Traverse(tree)**: 遍历树 `tree` 中的每个节点，且每个节点只访问一次。

## 二叉树（Binary Tree）

### 二叉树的定义

1. **二叉树的基本结构**：二叉树是由节点组成的有限集合 \( T \)，用 \( |T| \) 表示节点的数量。二叉树的特点是每个节点有且仅有两个子树，并且这两个子树有左右之分，这使得二叉树成为一种**有序树**。

2. **空二叉树**：如果 \( |T| = 0 \)，则 \( T \) 是一个空树。空二叉树是没有任何节点的二叉树。

3. **非空二叉树的结构**：如果 \( |T| > 0 \)，二叉树 \( T \) 中有一个特殊的节点 \( r \)，这个节点被称为二叉树的根节点。除了根节点之外的其他节点 \( T - \{r\} \) 被划分为两个互不相交的子集 \( TL \) 和 \( TR \)：
   - **左子树** \( TL \)：是根节点 \( r \) 的左子树，本身也是一棵二叉树。如果 \( TL > 0 \)，则 \( TL \) 的根 \( r_L \) 是 \( r \) 的左子节点，同时 \( r \) 是 \( r_L \) 的父节点。
   - **右子树** \( TR \)：是根节点 \( r \) 的右子树，同样也是一棵二叉树。如果 \( TR > 0 \)，则 \( TR \) 的根 \( r_R \) 是 \( r \) 的右子节点，而 \( r \) 是 \( r_R \) 的父节点。

### 二叉树的基本操作

- **BinaryTreeNode()**: 创建一个二叉树结点。
- **CreateBinaryTree(value, left_tree, right_tree)**: 构造二叉树，根节点的数据为 `value`，左子树和右子树分别是 `left_tree` 和 `right_tree`。
- **IsLeaf(tree, node)**: 如果二叉树 `tree` 中节点 `node` 为叶节点，返回 `true`；否则返回 `false`。
- **Height(tree)**: 返回二叉树 `tree` 的高度（深度）。
- **PreOrder(tree)**: 前序遍历二叉树 `tree`。
- **InOrder(tree)**: 中序遍历二叉树 `tree`。
- **PostOrder(tree)**: 后序遍历二叉树 `tree`。
- **LevelOrder(tree)**: 层序遍历二叉树 `tree`。

### 特殊的二叉树

当然，以下是一个表格形式的总结，列出满二叉树、完全二叉树和完美二叉树的定义、特点和实例：

| 特殊的二叉树类型             | 定义                                                                                     | 特点                                                                                                  | 实例                  |
|----------------|----------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|---------------------|
| 满二叉树（Full Binary Tree） | 由度为0的叶结点和度为2的中间结点构成的二叉树，树中没有度为1的结点。                                              |  所有的非叶节点都具有两个子节点。                                               | 哈夫曼树（Huffman Tree） 表达式树（Expression Tree） |
| 完全二叉树（Complete Binary Tree） | 除了最后一层，所有的层都是满的。在最后一层，所有的节点都尽可能地靠左排列。                                     |  可以有一些叶节点缺失。 最后一层的叶节点向左对齐。 适合用数组来表示。                            |  二叉堆（Binary Heap）       |
| 完美二叉树（Perfect Binary Tree） | 所有非叶节点都有两个子节点，并且所有叶节点都在同一层级上，此外每一层的节点数是最大可能节点数的情况下的节点数。 |  所有层都是完全填满的。 叶节点数量是非叶节点数量加一。节点总数是 \(2^{k} - 1\)（其中 \(k\) 是树的高度）。 |  满二叉搜索树          |

***左为满二叉树，右为非满二叉树***
![Full Binary Tree](images/Full%20Binary%20Tree.png)

***完全二叉树***
![Complete Binary Tree](images/Complete%20Binary%20Tree.png)

***完美二叉树***
![Perfect Binary Tree](images/Perfect%20Binary%20Tree.png)

### 二叉树基本性质

当然，根据逻辑关系，我们可以按照由浅入深的顺序，重新组织和呈现这些二叉树的性质和定理：

### 二叉树的性质和定理

1. **二叉树的层级结构**
   - **命题：** 在二叉树的第 \(i\) 层，最多有 \(2^{i-1}\) 个结点（\(i \geq 1\)）。
   - 这展示了二叉树每层的最大节点数，随层级增加呈指数增长。

2. **二叉树的最大节点数**
   - **命题：** 深度（高度）为 \(d\)（\(d \geq 1\)）的二叉树最多有 \(2^d - 1\) 个结点。
   - 这描述了二叉树在给定深度下的最大节点数，是对树的整体大小的一个重要指标。

3. **完美二叉树的特征**
   - **定理：** 深度（高度）为 \(d\)（\(d \geq 1\)）的二叉树是完美二叉树的充分必要条件是该树中有 \(2^d - 1\) 个结点。
   - 完美二叉树是每一层都完全填满的二叉树，这个定理说明了其结构上的严格性。

4. **完全二叉树的节点关系**
   - **定理：** 完全二叉树有 \(n\) 个结点（\(n \geq 1\)），按层次从左向右编号。对于任意结点 \(k\)（\(1 \leq k \leq n\)）：
     - 如果 \(2k \leq n\)，则结点 \(k\) 的左子结点是 \(2k\)；否则没有左子结点。
     - 如果 \(2k + 1 \leq n\)，则结点 \(k\) 的右子结点是 \(2k + 1\)；否则没有右子结点。
     - 如果 \(k > 1\)，则结点 \(k\) 的父结点是 \([k/2]\)。
   - 这是完全二叉树实现顺序存储以及二叉堆的重要性质。

5. **完全二叉树的深度计算**
   - **命题：** 有 \(n\) 个结点（\(n \geq 1\)）的完全二叉树的深度 \(d\) 为 \( \text{log}_2(n + 1) \)。
   - 提供了计算给定节点数的完全二叉树深度的方法。

6. **满二叉树与节点关系**
   - **命题：** 设非空二叉树中度为 \(i \in [0, 2]\) 的结点数为 \(n_i\)，则 \(n_0 = n_2 + 1\)。
   - 对于满二叉树，叶结点（度为0的结点）的数量比度为2的结点的数量多1。
